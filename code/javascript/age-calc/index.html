<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Age Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  </head>
  </head>
  <body>
    

    <div class="calc vh-100">
      <div class="row h-100">
        <div class="col-lg-4 col-7 col-sm-6 m-auto">
          <div class="bg-light text-center p-5 shadow">
            <h3 class="mb-4">Age Calculator <span><i class='bx bx-calculator'></i></span></h3>

            <p>Enter you date of birth  <i class='bx bx-cake'></i></p>
            <div>
              <input type="date" class="form-control" id="bday">
            </div>
            <div class="mt-4">
              <button class="btn btn-primary" id="btn_submit">Submit</button>
            </div>
            <div class="mt-3">
              <h4 id="result" class="text-success"></h4>
            </div>
          </div>
        </div>
      </div>
    </div>








    <script>
      document.addEventListener('DOMContentLoaded', function() {
      const birthday = document.getElementById('bday');
      const btn = document.getElementById('btn_submit');
      const result = document.getElementById('result');


      btn.addEventListener('click',calcBirth);

      function calcBirth(){
        const birthVal = birthday.value;
        if(birthVal == ''){
          alert('Please enter your Birth day');
        }else{

          const age = getAge(birthVal);
          console.log(age);
          result.innerText = `Your age is  ${age} ${age > 1 ? 'years' : 'year' } old.` ;
        }
      }


      function getAge(age){
        const currDate = new Date();
        const birthDate = new Date(age);
        
        let getAge = currDate.getFullYear() - birthDate.getFullYear();

        const month = currDate.getMonth() - birthDate.getMonth();

        console.log(currDate.getDate() < birthDate.getDate());
        console.log(getAge,month);

        if(month < 0 || month === 0 && currDate.getDate() < birthDate.getDate()){
         getAge--; 
        }
        return getAge;
      }
    });

    

    </script>
  </body>
</html>